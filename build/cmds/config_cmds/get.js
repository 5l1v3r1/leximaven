'use strict';

var themes = require('../../themes');
var tools = require('../../tools');

var chalk = require('chalk');
var dot = require('dotty');
var noon = require('noon');

var CFILE = process.env.HOME + '/.leximaven.noon';

exports.command = 'get <key>';
exports.desc = 'Retrieve a config value';
exports.builder = {};
exports.handler = function (argv) {
  var key = argv.key;
  var value = null;
  tools.checkConfig(CFILE);
  var config = noon.load(CFILE);
  var theme = themes.loadTheme(config.theme);
  if (config.verbose) themes.label(theme, 'down', 'Configuration');
  if (dot.exists(config, key)) {
    value = /\./i.test(key) ? dot.get(config, key) : config[key];
  } else {
    throw new Error('Option ' + key + ' not found.');
  }
  console.log('Option ' + chalk.white.bold(key) + ' is ' + chalk.white.bold(value) + '.');
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtZHMvY29uZmlnX2NtZHMvZ2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxTQUFTLFFBQVEsY0FBUixDQUFmO0FBQ0EsSUFBTSxRQUFRLFFBQVEsYUFBUixDQUFkOztBQUVBLElBQU0sUUFBUSxRQUFRLE9BQVIsQ0FBZDtBQUNBLElBQU0sTUFBTSxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQU0sT0FBTyxRQUFRLE1BQVIsQ0FBYjs7QUFFQSxJQUFNLFFBQVcsUUFBUSxHQUFSLENBQVksSUFBdkIscUJBQU47O0FBRUEsUUFBUSxPQUFSLEdBQWtCLFdBQWxCO0FBQ0EsUUFBUSxJQUFSLEdBQWUseUJBQWY7QUFDQSxRQUFRLE9BQVIsR0FBa0IsRUFBbEI7QUFDQSxRQUFRLE9BQVIsR0FBa0IsVUFBQyxJQUFELEVBQVU7QUFDMUIsTUFBTSxNQUFNLEtBQUssR0FBakI7QUFDQSxNQUFJLFFBQVEsSUFBWjtBQUNBLFFBQU0sV0FBTixDQUFrQixLQUFsQjtBQUNBLE1BQU0sU0FBUyxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQWY7QUFDQSxNQUFNLFFBQVEsT0FBTyxTQUFQLENBQWlCLE9BQU8sS0FBeEIsQ0FBZDtBQUNBLE1BQUksT0FBTyxPQUFYLEVBQW9CLE9BQU8sS0FBUCxDQUFhLEtBQWIsRUFBb0IsTUFBcEIsRUFBNEIsZUFBNUI7QUFDcEIsTUFBSSxJQUFJLE1BQUosQ0FBVyxNQUFYLEVBQW1CLEdBQW5CLENBQUosRUFBNkI7QUFDM0IsWUFBUSxNQUFNLElBQU4sQ0FBVyxHQUFYLElBQWtCLElBQUksR0FBSixDQUFRLE1BQVIsRUFBZ0IsR0FBaEIsQ0FBbEIsR0FBeUMsT0FBTyxHQUFQLENBQWpEO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsVUFBTSxJQUFJLEtBQUosYUFBb0IsR0FBcEIsaUJBQU47QUFDRDtBQUNELFVBQVEsR0FBUixhQUFzQixNQUFNLEtBQU4sQ0FBWSxJQUFaLENBQWlCLEdBQWpCLENBQXRCLFlBQWtELE1BQU0sS0FBTixDQUFZLElBQVosQ0FBaUIsS0FBakIsQ0FBbEQ7QUFDRCxDQWJEIiwiZmlsZSI6ImNtZHMvY29uZmlnX2NtZHMvZ2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGhlbWVzID0gcmVxdWlyZSgnLi4vLi4vdGhlbWVzJylcbmNvbnN0IHRvb2xzID0gcmVxdWlyZSgnLi4vLi4vdG9vbHMnKVxuXG5jb25zdCBjaGFsayA9IHJlcXVpcmUoJ2NoYWxrJylcbmNvbnN0IGRvdCA9IHJlcXVpcmUoJ2RvdHR5JylcbmNvbnN0IG5vb24gPSByZXF1aXJlKCdub29uJylcblxuY29uc3QgQ0ZJTEUgPSBgJHtwcm9jZXNzLmVudi5IT01FfS8ubGV4aW1hdmVuLm5vb25gXG5cbmV4cG9ydHMuY29tbWFuZCA9ICdnZXQgPGtleT4nXG5leHBvcnRzLmRlc2MgPSAnUmV0cmlldmUgYSBjb25maWcgdmFsdWUnXG5leHBvcnRzLmJ1aWxkZXIgPSB7fVxuZXhwb3J0cy5oYW5kbGVyID0gKGFyZ3YpID0+IHtcbiAgY29uc3Qga2V5ID0gYXJndi5rZXlcbiAgbGV0IHZhbHVlID0gbnVsbFxuICB0b29scy5jaGVja0NvbmZpZyhDRklMRSlcbiAgY29uc3QgY29uZmlnID0gbm9vbi5sb2FkKENGSUxFKVxuICBjb25zdCB0aGVtZSA9IHRoZW1lcy5sb2FkVGhlbWUoY29uZmlnLnRoZW1lKVxuICBpZiAoY29uZmlnLnZlcmJvc2UpIHRoZW1lcy5sYWJlbCh0aGVtZSwgJ2Rvd24nLCAnQ29uZmlndXJhdGlvbicpXG4gIGlmIChkb3QuZXhpc3RzKGNvbmZpZywga2V5KSkge1xuICAgIHZhbHVlID0gL1xcLi9pLnRlc3Qoa2V5KSA/IGRvdC5nZXQoY29uZmlnLCBrZXkpIDogY29uZmlnW2tleV1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE9wdGlvbiAke2tleX0gbm90IGZvdW5kLmApXG4gIH1cbiAgY29uc29sZS5sb2coYE9wdGlvbiAke2NoYWxrLndoaXRlLmJvbGQoa2V5KX0gaXMgJHtjaGFsay53aGl0ZS5ib2xkKHZhbHVlKX0uYClcbn1cbiJdfQ==