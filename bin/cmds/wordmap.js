"use strict";var themes=require("../themes"),tools=require("../tools"),_=require("lodash"),child=require("child_process"),noon=require("noon"),CFILE=process.env.HOME+"/.leximaven.noon";exports.command="map <word>",exports.desc="Maps of word info",exports.builder={limit:{alias:"l",desc:"Limits the number of results","default":1,type:"number"},save:{alias:"s",desc:"Save flags to config file","default":!1,type:"boolean"}},exports.handler=function(n){tools.checkConfig(CFILE);var e=noon.load(CFILE),i={wordmap:{limit:n.l}};e.prefer&&(e=_.merge({},e,i));var o=themes.loadTheme(e.theme);e.verbose&&themes.labelDown("Wordmap",o,null);var r=n.word,d=n.l,s=process.cwd()+"/bin/leximaven.js";child.spawnSync("node",[s,"rbrain","combine","-m"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"rbrain","info",""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"rbrain","rhyme","-m"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","define","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","example","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","hyphen",""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","origin",""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","phrase","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","pronounce","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"wordnik","relate","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"acronym",""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"dmuse","-m"+d,"ml="+r],{stdio:"inherit"}),child.spawnSync("node",[s,"onelook",""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"urban","-l"+d,""+r],{stdio:"inherit"}),child.spawnSync("node",[s,"anagram","-t"+d,""+r],{stdio:"inherit"}),n.s&&e.prefer&&noon.save(CFILE,e)};